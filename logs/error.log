{"level":"error","message":"Unable to connect to the database: la autentificación password falló para el usuario «postgres»","name":"SequelizeConnectionError","original":{"code":"28P01","file":"auth.c","length":118,"line":"321","name":"error","routine":"auth_failed","severity":"FATAL"},"parent":{"code":"28P01","file":"auth.c","length":118,"line":"321","name":"error","routine":"auth_failed","severity":"FATAL"},"service":"dental-clinic-api","stack":"SequelizeConnectionError: la autentificación password falló para el usuario «postgres»\n    at Client._connectionCallback (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/sequelize/lib/dialects/postgres/connection-manager.js:145:24)\n    at Client._handleErrorWhileConnecting (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/pg/lib/client.js:336:19)\n    at Client._handleErrorMessage (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/pg/lib/client.js:356:19)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at /home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/pg/lib/connection.js:116:12\n    at Parser.parse (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/pg-protocol/dist/parser.js:36:17)\n    at Socket.<anonymous> (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/pg-protocol/dist/index.js:11:42)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-06-19 10:37:14"}
{"level":"error","message":"Error synchronizing database: la autentificación password falló para el usuario «postgres»","name":"SequelizeConnectionError","original":{"code":"28P01","file":"auth.c","length":118,"line":"321","name":"error","routine":"auth_failed","severity":"FATAL"},"parent":{"code":"28P01","file":"auth.c","length":118,"line":"321","name":"error","routine":"auth_failed","severity":"FATAL"},"service":"dental-clinic-api","stack":"SequelizeConnectionError: la autentificación password falló para el usuario «postgres»\n    at Client._connectionCallback (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/sequelize/lib/dialects/postgres/connection-manager.js:145:24)\n    at Client._handleErrorWhileConnecting (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/pg/lib/client.js:336:19)\n    at Client._handleErrorMessage (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/pg/lib/client.js:356:19)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (node:domain:489:12)\n    at /home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/pg/lib/connection.js:116:12\n    at Parser.parse (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/pg-protocol/dist/parser.js:36:17)\n    at Socket.<anonymous> (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/pg-protocol/dist/index.js:11:42)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-06-19 10:37:14"}
{"body":{"email":"ivan@example.com","firstName":"ivan","lastName":"flores","password":"123456789","role":"admin"},"level":"error","message":"connect ECONNREFUSED ::1:587","method":"POST","service":"dental-clinic-api","stack":"Error: connect ECONNREFUSED ::1:587\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1636:16)","timestamp":"2025-06-19 10:52:37","url":"/api/v1/auth/register","user":"unauthenticated"}
{"body":{"email":"ivan@example.com","firstName":"ivan","lastName":"flores","password":"123456789","role":"admin"},"level":"error","message":"User already exists with this email","method":"POST","service":"dental-clinic-api","stack":"Error: User already exists with this email\n    at register (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/src/controllers/authController.js:71:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-19 10:56:42","url":"/api/v1/auth/register","user":"unauthenticated"}
{"body":{"email":"ivan@example.com","password":"123456789"},"level":"error","message":"secretOrPrivateKey must have a value","method":"POST","service":"dental-clinic-api","stack":"Error: secretOrPrivateKey must have a value\n    at module.exports [as sign] (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/jsonwebtoken/sign.js:107:20)\n    at login (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/src/controllers/authController.js:37:32)","timestamp":"2025-06-19 11:16:41","url":"/api/v1/auth/login","user":"unauthenticated"}
{"body":{},"level":"error","message":"DentalRecord is associated to Patient using an alias. You must use the 'as' keyword to specify the alias within your include statement.","method":"GET","service":"dental-clinic-api","stack":"SequelizeEagerLoadingError: DentalRecord is associated to Patient using an alias. You must use the 'as' keyword to specify the alias within your include statement.\n    at Patient._getIncludedAssociation (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/sequelize/lib/model.js:576:13)\n    at Patient._validateIncludedElement (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/sequelize/lib/model.js:502:53)\n    at /home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at Patient._validateIncludedElements (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/sequelize/lib/model.js:417:39)\n    at Patient.aggregate (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/sequelize/lib/model.js:1252:12)\n    at Patient.count (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/sequelize/lib/model.js:1306:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Promise.all (index 0)\n    at async Patient.findAndCountAll (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/sequelize/lib/model.js:1322:27)\n    at async getAllPatients (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/src/controllers/patientController.js:29:24)","timestamp":"2025-06-19 18:56:43","url":"/api/v1/patients?sortOrder=ASC","user":"3fe2d6ec-d9f2-41d7-897e-d408a6b0227a"}
{"body":{},"level":"error","message":"DentalRecord is associated to Patient using an alias. You must use the 'as' keyword to specify the alias within your include statement.","method":"GET","service":"dental-clinic-api","stack":"SequelizeEagerLoadingError: DentalRecord is associated to Patient using an alias. You must use the 'as' keyword to specify the alias within your include statement.\n    at Patient._getIncludedAssociation (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/sequelize/lib/model.js:576:13)\n    at Patient._validateIncludedElement (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/sequelize/lib/model.js:502:53)\n    at /home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at Patient._validateIncludedElements (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/sequelize/lib/model.js:417:39)\n    at Patient.aggregate (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/sequelize/lib/model.js:1252:12)\n    at Patient.count (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/sequelize/lib/model.js:1306:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Promise.all (index 0)\n    at async Patient.findAndCountAll (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/sequelize/lib/model.js:1322:27)\n    at async getAllPatients (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/src/controllers/patientController.js:29:24)","timestamp":"2025-06-19 18:57:22","url":"/api/v1/patients?page=1&limit=1&sortOrder=ASC","user":"3fe2d6ec-d9f2-41d7-897e-d408a6b0227a"}
{"body":{},"level":"error","message":"Unexpected token '\"', \"\"maria marcela\"\" is not valid JSON","method":"POST","service":"dental-clinic-api","stack":"SyntaxError: Unexpected token '\"', \"\"maria marcela\"\" is not valid JSON\n    at JSON.parse (<anonymous>)\n    at createStrictSyntaxError (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/body-parser/lib/types/json.js:169:10)\n    at parse (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/body-parser/lib/types/json.js:86:15)\n    at /home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/raw-body/index.js:238:16)\n    at done (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:488:12)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-06-19 18:59:26","url":"/api/v1/patients","user":"unauthenticated"}
{"body":{},"level":"error","message":"Unexpected token '\"', \"\"maria marcela\"\" is not valid JSON","method":"POST","service":"dental-clinic-api","stack":"SyntaxError: Unexpected token '\"', \"\"maria marcela\"\" is not valid JSON\n    at JSON.parse (<anonymous>)\n    at createStrictSyntaxError (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/body-parser/lib/types/json.js:169:10)\n    at parse (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/body-parser/lib/types/json.js:86:15)\n    at /home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/raw-body/index.js:238:16)\n    at done (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:488:12)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-06-19 19:08:45","url":"/api/v1/patients","user":"unauthenticated"}
{"body":{"email":"ivan@gmail.com","password":"123456"},"level":"error","message":"Incorrect email or password","method":"POST","service":"dental-clinic-api","stack":"Error: Incorrect email or password\n    at login (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/src/controllers/authController.js:27:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-06-19 19:34:57","url":"/api/v1/auth/login","user":"unauthenticated"}
{"body":{"email":"ivan@gmail.com","password":"123456789"},"level":"error","message":"Incorrect email or password","method":"POST","service":"dental-clinic-api","stack":"Error: Incorrect email or password\n    at login (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/src/controllers/authController.js:27:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-06-19 19:35:22","url":"/api/v1/auth/login","user":"unauthenticated"}
{"body":{"email":"ivan@gmail.com","password":"123456789"},"level":"error","message":"Incorrect email or password","method":"POST","service":"dental-clinic-api","stack":"Error: Incorrect email or password\n    at login (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/src/controllers/authController.js:27:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-06-19 19:37:34","url":"/api/v1/auth/login","user":"unauthenticated"}
{"body":{"email":"ivan1@gmail.com","password":"123456789"},"level":"error","message":"Incorrect email or password","method":"POST","service":"dental-clinic-api","stack":"Error: Incorrect email or password\n    at login (/home/ivan/Desarrollo/Trabajo/sistema-dentista/backend/src/controllers/authController.js:27:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-06-19 19:37:57","url":"/api/v1/auth/login","user":"unauthenticated"}
